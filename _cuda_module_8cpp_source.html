<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NTrace: src/framework/gpu/CudaModule.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NTrace
   </div>
   <div id="projectbrief">GPU ray tracing framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_cuda_module_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CudaModule.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_cuda_module_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  Copyright (c) 2009-2011, NVIDIA Corporation</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *      * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *        notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *      * Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *        notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *        documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *      * Neither the name of NVIDIA Corporation nor the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *        names of its contributors may be used to endorse or promote products</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *        derived from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_cuda_module_8hpp.html">gpu/CudaModule.hpp</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_thread_8hpp.html">base/Thread.hpp</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_timer_8hpp.html">base/Timer.hpp</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_cuda_compiler_8hpp.html">gpu/CudaCompiler.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_image_8hpp.html">gui/Image.hpp</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span>FW;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keywordtype">bool</span>        CudaModule::s_inited        = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keywordtype">bool</span>        CudaModule::s_available     = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;CUdevice    CudaModule::s_device        = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;CUcontext   CudaModule::s_context       = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;CUevent     CudaModule::s_startEvent    = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;CUevent     CudaModule::s_endEvent      = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a4c773078ba7d187c3771f25e672782df">   47</a></span>&#160;<a class="code" href="class_f_w_1_1_cuda_module.html#a4c773078ba7d187c3771f25e672782df">CudaModule::CudaModule</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* cubin)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">staticInit</a>();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleLoadData&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a46cab0a1b05a575d8ed660d164336182">cuModuleLoadData</a>(&amp;m_module, cubin));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#aa3dbc3ef08234c4be564b13a0bf7151c">   55</a></span>&#160;<a class="code" href="class_f_w_1_1_cuda_module.html#a4c773078ba7d187c3771f25e672782df">CudaModule::CudaModule</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; cubinFile)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">staticInit</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleLoad&quot;</span>, cuModuleLoad(&amp;m_module, cubinFile.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>()));</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a1caf85ec285eb703f549ab9020c15cd1">   63</a></span>&#160;<a class="code" href="class_f_w_1_1_cuda_module.html#a1caf85ec285eb703f549ab9020c15cd1">CudaModule::~CudaModule</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_globals.getSize(); i++)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keyword">delete</span> m_globals[i];</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleUnload&quot;</span>, cuModuleUnload(m_module));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#afb966fd15e62cd2627f838db2170e836">   73</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_f_w_1_1_cuda_module.html#afb966fd15e62cd2627f838db2170e836">CudaModule::hasKernel</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> (findKernel(name) != <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a2f0d62ac2eff62c5e0a2c93108233d39">   80</a></span>&#160;<a class="code" href="class_f_w_1_1_cuda_kernel.html">CudaKernel</a> <a class="code" href="class_f_w_1_1_cuda_module.html#a2f0d62ac2eff62c5e0a2c93108233d39">CudaModule::getKernel</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    CUfunction kernel = findKernel(name);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (!kernel)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: Kernel not found &#39;%s&#39;!&quot;</span>, name.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>());</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_f_w_1_1_cuda_kernel.html">CudaKernel</a>(<span class="keyword">this</span>, kernel);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a032d7c1394dd3ede34bb4ac63da6bc8d">   90</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a032d7c1394dd3ede34bb4ac63da6bc8d">CudaModule::setParami</a>(CUfunction kernel, <span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#a08fccce21fc4e2b456ae007e9b576c41">offset</a>, <a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a> <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (kernel)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuParamSeti&quot;</span>, cuParamSeti(kernel, offset, value));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a514b7a61c66cec0186a3b6bcaa5de966">   99</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a514b7a61c66cec0186a3b6bcaa5de966">CudaModule::setParamf</a>(CUfunction kernel, <span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#a08fccce21fc4e2b456ae007e9b576c41">offset</a>, <a class="code" href="namespace_f_w.html#a444682d451e41e6a951ce34c6be6aa1b">F32</a> <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (kernel)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuParamSetf&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#ad254d1cf77a10134e4a559f2973d841a">cuParamSetf</a>(kernel, offset, value));</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code" href="namespace_f_w.html#a444682d451e41e6a951ce34c6be6aa1b">F32</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#ac6584601202a9942212eada4d087e1c9">  108</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#ac6584601202a9942212eada4d087e1c9">CudaModule::setParamPtr</a>(CUfunction kernel, <span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#a08fccce21fc4e2b456ae007e9b576c41">offset</a>, CUdeviceptr <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (kernel)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuParamSetv&quot;</span>, cuParamSetv(kernel, offset, &amp;value, <span class="keyword">sizeof</span>(CUdeviceptr)));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(CUdeviceptr);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a7f58dcb04ca39b1792dc0ecb065ae41c">  117</a></span>&#160;<a class="code" href="class_f_w_1_1_buffer.html">Buffer</a>&amp; <a class="code" href="class_f_w_1_1_cuda_module.html#a7f58dcb04ca39b1792dc0ecb065ae41c">CudaModule::getGlobal</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a>* found = m_globalHash.search(name);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> *m_globals[*found];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    CUdeviceptr <a class="code" href="_d_l_l_imports_8cpp.html#a3f9c944700a4d6f4d7c0edb04a2caca8">ptr</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="_d_l_l_imports_8hpp.html#a5072f7e393f40e37175d92de56ed27cd">CUsize_t</a> <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleGetGlobal&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a7db75eb2537592ecbcdb45300fc5b617">cuModuleGetGlobal</a>(&amp;ptr, &amp;size, m_module, name.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>()));</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="class_f_w_1_1_buffer.html">Buffer</a>* <a class="code" href="_d_l_l_imports_8inl.html#a9dbca2ffca3195a70ff9a21d5c97b242">buffer</a> = <span class="keyword">new</span> <a class="code" href="class_f_w_1_1_buffer.html">Buffer</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    buffer-&gt;<a class="code" href="class_f_w_1_1_buffer.html#a33dd259f52b953403c2d539e4e9a98db">wrapCuda</a>(ptr, size);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    m_globalHash.add(name, m_globals.getSize());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    m_globals.add(buffer);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="_d_l_l_imports_8inl.html#a9dbca2ffca3195a70ff9a21d5c97b242">buffer</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a5942875425f3c3f5584765df670a5a49">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a5942875425f3c3f5584765df670a5a49">CudaModule::updateGlobals</a>(<span class="keywordtype">bool</span> async, CUstream stream)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_globals.getSize(); i++)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        m_globals[i]-&gt;setOwner(<a class="code" href="class_f_w_1_1_buffer.html#a6c1c118fbf58a9120a561b7b523982c9a7ba349a7628a36120e8aa99a7b10061b">Buffer::Cuda</a>, <span class="keyword">true</span>, async, stream);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">  145</a></span>&#160;CUtexref <a class="code" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">CudaModule::getTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a>* found = m_texRefHash.search(name);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> m_texRefs[*found];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    CUtexref texRef;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleGetTexRef&quot;</span>, cuModuleGetTexRef(&amp;texRef, m_module, name.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>()));</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    m_texRefHash.add(name, m_texRefs.<a class="code" href="class_f_w_1_1_array_base.html#a787c519021c55c4ba34729050b972d47">getSize</a>());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    m_texRefs.<a class="code" href="class_f_w_1_1_array_base.html#af5a81b8139e1b73f9f0288b4f7c2a770">add</a>(texRef);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> texRef;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#abfe1a5bd06d1d3ea0c49086de58340b8">  161</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#abfe1a5bd06d1d3ea0c49086de58340b8">CudaModule::setTexRefMode</a>(CUtexref texRef, <span class="keywordtype">bool</span> wrap, <span class="keywordtype">bool</span> bilinear, <span class="keywordtype">bool</span> normalizedCoords, <span class="keywordtype">bool</span> readAsInt)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#if (!FW_USE_CUDA)</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(texRef);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(wrap);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(bilinear);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(normalizedCoords);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(readAsInt);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule::setTexRefMode(): Built without FW_USE_CUDA!&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    CUaddress_mode addressMode = (wrap) ? CU_TR_ADDRESS_MODE_WRAP : CU_TR_ADDRESS_MODE_CLAMP;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    CUfilter_mode filterMode = (bilinear) ? CU_TR_FILTER_MODE_LINEAR : CU_TR_FILTER_MODE_POINT;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="namespace_f_w.html#aa9e6318d2f21fa8ff6c253178f2eb949">U32</a> flags = 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (normalizedCoords)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        flags |= CU_TRSF_NORMALIZED_COORDINATES;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (readAsInt)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        flags |= CU_TRSF_READ_AS_INTEGER;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#afa19deda7e4b44859d7d11b6fada0a24">dim</a> = 0; <a class="code" href="_d_l_l_imports_8inl.html#afa19deda7e4b44859d7d11b6fada0a24">dim</a> &lt; 3; <a class="code" href="_d_l_l_imports_8inl.html#afa19deda7e4b44859d7d11b6fada0a24">dim</a>++)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetAddressMode&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a3ecdb3265082b69e183f81f7d780b03f">cuTexRefSetAddressMode</a>(texRef, <a class="code" href="_d_l_l_imports_8inl.html#afa19deda7e4b44859d7d11b6fada0a24">dim</a>, addressMode));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetFilterMode&quot;</span>, cuTexRefSetFilterMode(texRef, filterMode));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetFlags&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a0708c2af391e85a03b846d43c7b3338b">cuTexRefSetFlags</a>(texRef, flags));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">CudaModule::setTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>, <a class="code" href="class_f_w_1_1_buffer.html">Buffer</a>&amp; buf, CUarray_format <a class="code" href="_d_l_l_imports_8inl.html#ad4c33e9edd8edca569c34a03f3c9795e">format</a>, <span class="keywordtype">int</span> numComponents)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">setTexRef</a>(name, buf.<a class="code" href="class_f_w_1_1_buffer.html#aafa85e31db70b6b4fcefe9f5d82ab3b6">getCudaPtr</a>(), buf.<a class="code" href="class_f_w_1_1_buffer.html#aab73cf5a8f20060158cee1b23991fadb">getSize</a>(), <a class="code" href="_d_l_l_imports_8inl.html#ad4c33e9edd8edca569c34a03f3c9795e">format</a>, numComponents);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#afa69b163a6be22a71713e480802ff81e">  200</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">CudaModule::setTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>, CUdeviceptr <a class="code" href="_d_l_l_imports_8cpp.html#a3f9c944700a4d6f4d7c0edb04a2caca8">ptr</a>, <a class="code" href="namespace_f_w.html#a79e68c842b255fc3ffc278fa7c0ddd9a">S64</a> <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>, CUarray_format <a class="code" href="_d_l_l_imports_8inl.html#ad4c33e9edd8edca569c34a03f3c9795e">format</a>, <span class="keywordtype">int</span> numComponents)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    CUtexref texRef = <a class="code" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">getTexRef</a>(name);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetFormat&quot;</span>, cuTexRefSetFormat(texRef, format, numComponents));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetAddress&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a8506e7146413ddccf15b86bdb9b74104">cuTexRefSetAddress</a>(<a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, texRef, ptr, (<a class="code" href="namespace_f_w.html#aa9e6318d2f21fa8ff6c253178f2eb949">U32</a>)size));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#acc3b0388f90a38fe7a7be95effa71952">  209</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">CudaModule::setTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>, CUarray cudaArray, <span class="keywordtype">bool</span> wrap, <span class="keywordtype">bool</span> bilinear, <span class="keywordtype">bool</span> normalizedCoords, <span class="keywordtype">bool</span> readAsInt)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    CUtexref texRef = <a class="code" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">getTexRef</a>(name);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#abfe1a5bd06d1d3ea0c49086de58340b8">setTexRefMode</a>(texRef, wrap, bilinear, normalizedCoords, readAsInt);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor"></span>    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetArray&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a9d1d2ca295ac55abfbfbb567b2d35d53">cuTexRefSetArray</a>(texRef, cudaArray, CU_TRSA_OVERRIDE_FORMAT));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor"></span>    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(cudaArray);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a6a8ba6ce31eb5dcf04d4aacaf5fa6867">  223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">CudaModule::setTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>, <span class="keyword">const</span> <a class="code" href="class_f_w_1_1_image.html">Image</a>&amp; <a class="code" href="_d_l_l_imports_8inl.html#af213c44c249febd5dd9ecd01be302487">image</a>, <span class="keywordtype">bool</span> wrap, <span class="keywordtype">bool</span> bilinear, <span class="keywordtype">bool</span> normalizedCoords, <span class="keywordtype">bool</span> readAsInt)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(name);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(image);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(wrap);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(bilinear);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(normalizedCoords);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(readAsInt);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#if (!FW_USE_CUDA)</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule::setTexRef(Image): Built without FW_USE_CUDA!&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#elif (CUDA_VERSION &lt; 2020)</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: setTexRef(Image) requires CUDA 2.2 or later!&quot;</span>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    CUDA_ARRAY_DESCRIPTOR desc;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="class_f_w_1_1_image_format.html">ImageFormat</a> <a class="code" href="_d_l_l_imports_8inl.html#ad4c33e9edd8edca569c34a03f3c9795e">format</a> = image.<a class="code" href="class_f_w_1_1_image.html#a0ce75aa6221b88eb82a1db63772c7710">chooseCudaFormat</a>(&amp;desc);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (format != image.<a class="code" href="class_f_w_1_1_image.html#ac8fd3697b306c9875649677f24f5efea">getFormat</a>())</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: Unsupported image format in setTexRef(Image)!&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    CUtexref texRef = <a class="code" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">getTexRef</a>(name);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#abfe1a5bd06d1d3ea0c49086de58340b8">setTexRefMode</a>(texRef, wrap, bilinear, normalizedCoords, readAsInt);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetAddress2D&quot;</span>, cuTexRefSetAddress2D(texRef, &amp;desc, image.<a class="code" href="class_f_w_1_1_image.html#a035d03d80592c7dcba003b70e3491978">getBuffer</a>().<a class="code" href="class_f_w_1_1_buffer.html#aafa85e31db70b6b4fcefe9f5d82ab3b6">getCudaPtr</a>(), (size_t)image.<a class="code" href="class_f_w_1_1_image.html#a43a8e0f217c43bcebb636ba6226efb89">getStride</a>()));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a5356c37febffe67548611bb7173cf527">  256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a5356c37febffe67548611bb7173cf527">CudaModule::unsetTexRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    CUtexref texRef = <a class="code" href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">getTexRef</a>(name);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuTexRefSetAddress&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a8506e7146413ddccf15b86bdb9b74104">cuTexRefSetAddress</a>(<a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, texRef, <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#ae0dede205dfc836ef3afc9351ac39855">  264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#ae0dede205dfc836ef3afc9351ac39855">CudaModule::updateTexRefs</a>(CUfunction kernel)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#if (!FW_USE_CUDA)</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(kernel);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule::updateTexRefs(): Built without FW_USE_CUDA!&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_f_w_1_1_cuda_module.html#ad37fbaac44625fce26b36135ae192e57">getDriverVersion</a>() &gt;= 32)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_texRefs.<a class="code" href="class_f_w_1_1_array_base.html#a787c519021c55c4ba34729050b972d47">getSize</a>(); i++)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuParamSetTexRef&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#ae7315cdde706861c3befc3d18be0c425">cuParamSetTexRef</a>(kernel, CU_PARAM_TR_DEFAULT, m_texRefs[i]));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#aacfba0f8beebafbe3d3a3a5c228e3442">  283</a></span>&#160;<a class="code" href="_d_l_l_imports_8hpp.html#aba057da10d5d0eb0a6f837dc75b59482">CUsurfref</a> <a class="code" href="class_f_w_1_1_cuda_module.html#aacfba0f8beebafbe3d3a3a5c228e3442">CudaModule::getSurfRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#if (CUDA_VERSION &gt;= 3010)</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor"></span>    <a class="code" href="_d_l_l_imports_8hpp.html#aba057da10d5d0eb0a6f837dc75b59482">CUsurfref</a> surfRef;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuModuleGetSurfRef&quot;</span>, cuModuleGetSurfRef(&amp;surfRef, m_module, name.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>()));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> surfRef;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor"></span>    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(name);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: getSurfRef() requires CUDA 3.1 or later!&quot;</span>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a9395967cb4000b5a19ca4419da40c48e">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a9395967cb4000b5a19ca4419da40c48e">CudaModule::setSurfRef</a>(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>, CUarray cudaArray)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#if (CUDA_VERSION &gt;= 3010)</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor"></span>    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuSurfRefSetArray&quot;</span>, cuSurfRefSetArray(<a class="code" href="class_f_w_1_1_cuda_module.html#aacfba0f8beebafbe3d3a3a5c228e3442">getSurfRef</a>(name), cudaArray, 0));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor"></span>    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(name);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(cudaArray);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: setSurfRef() requires CUDA 3.1 or later!&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">  311</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">CudaModule::staticInit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (s_inited)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    s_inited = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    s_available = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (!isAvailable_cuInit())</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    CUresult res = cuInit(0);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (res != CUDA_SUCCESS)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span> (res != CUDA_ERROR_NO_DEVICE)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuInit&quot;</span>, res);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    s_available = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    s_device = selectDevice();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    printDeviceInfo(s_device);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="namespace_f_w.html#aa9e6318d2f21fa8ff6c253178f2eb949">U32</a> flags = 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor"></span>    flags |= CU_CTX_SCHED_SPIN; <span class="comment">// use sync() if you want to yield</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if (CUDA_VERSION &gt;= 2030)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="class_f_w_1_1_cuda_module.html#ad37fbaac44625fce26b36135ae192e57">getDriverVersion</a>() &gt;= 23)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        flags |= CU_CTX_LMEM_RESIZE_TO_MAX; <span class="comment">// reduce launch overhead with large localmem</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (!isAvailable_cuGLCtxCreate())</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuCtxCreate&quot;</span>, cuCtxCreate(&amp;s_context, flags, s_device));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="class_f_w_1_1_g_l_context.html#ab1f0a50167f29b9f9348fe0b72ccc294">GLContext::staticInit</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuGLCtxCreate&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a45a58542c9a45094a27d0e532ad77b25">cuGLCtxCreate</a>(&amp;s_context, flags, s_device));</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (isAvailable_cuEventCreate())</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventCreate&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a4fe15fb15b24ec329e6e4c94825ed4de">cuEventCreate</a>(&amp;s_startEvent, 0));</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventCreate&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a4fe15fb15b24ec329e6e4c94825ed4de">cuEventCreate</a>(&amp;s_endEvent, 0));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#ae7847889464c984c90247b675c8c95ee">  361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#ae7847889464c984c90247b675c8c95ee">CudaModule::staticDeinit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (!s_inited)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    s_inited = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (s_startEvent)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventDestroy&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#acfdc74cbe3820c424ed02602f6d561ac">cuEventDestroy</a>(s_startEvent));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    s_startEvent = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (s_endEvent)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventDestroy&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#acfdc74cbe3820c424ed02602f6d561ac">cuEventDestroy</a>(s_endEvent));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    s_endEvent = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (s_context)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuCtxDestroy&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a244614736646bf692feb53df6df52c39">cuCtxDestroy</a>(s_context));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    s_context = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    s_device = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a3690f037c53e931cb02713446bfd22f2">  384</a></span>&#160;<a class="code" href="namespace_f_w.html#a79e68c842b255fc3ffc278fa7c0ddd9a">S64</a> <a class="code" href="class_f_w_1_1_cuda_module.html#a3690f037c53e931cb02713446bfd22f2">CudaModule::getMemoryUsed</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">staticInit</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (!s_available)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="_d_l_l_imports_8hpp.html#a5072f7e393f40e37175d92de56ed27cd">CUsize_t</a> <a class="code" href="namespace_f_w.html#a93be8f55938d6ffb5ca0af1f95f81589">free</a> = 0;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="_d_l_l_imports_8hpp.html#a5072f7e393f40e37175d92de56ed27cd">CUsize_t</a> total = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    cuMemGetInfo(&amp;free, &amp;total);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> total - <a class="code" href="namespace_f_w.html#a93be8f55938d6ffb5ca0af1f95f81589">free</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a8fd15a1b9b23a8eba162097d4c06a4f3">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a8fd15a1b9b23a8eba162097d4c06a4f3">CudaModule::sync</a>(<span class="keywordtype">bool</span> yield)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (!s_inited)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (!yield || !s_endEvent)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuCtxSynchronize&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a4675355a85090f5f50476e342785bc14">cuCtxSynchronize</a>());</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor"></span>    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventRecord&quot;</span>, cuEventRecord(s_endEvent, <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        CUresult res = <a class="code" href="_d_l_l_imports_8inl.html#a93fba26cd55b4e62b4760ea9cef6f39d">cuEventQuery</a>(s_endEvent);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (res != CUDA_ERROR_NOT_READY)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuEventQuery&quot;</span>, res);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="class_f_w_1_1_thread.html#a40ddc126a00416db57b7229e2517e700">Thread::yield</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a2d6741d109bc975cd1d768ae2001991b">  426</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_f_w_1_1_cuda_module.html#a2d6741d109bc975cd1d768ae2001991b">CudaModule::decodeError</a>(CUresult res)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">switch</span> (res)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">default</span>:                                        error = <span class="stringliteral">&quot;Unknown CUresult&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">case</span> CUDA_SUCCESS:                              error = <span class="stringliteral">&quot;No error&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_VALUE:                  error = <span class="stringliteral">&quot;Invalid value&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_OUT_OF_MEMORY:                  error = <span class="stringliteral">&quot;Out of memory&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_INITIALIZED:                error = <span class="stringliteral">&quot;Not initialized&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_DEINITIALIZED:                  error = <span class="stringliteral">&quot;Deinitialized&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NO_DEVICE:                      error = <span class="stringliteral">&quot;No device&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_DEVICE:                 error = <span class="stringliteral">&quot;Invalid device&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_IMAGE:                  error = <span class="stringliteral">&quot;Invalid image&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_CONTEXT:                error = <span class="stringliteral">&quot;Invalid context&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_CONTEXT_ALREADY_CURRENT:        error = <span class="stringliteral">&quot;Context already current&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_MAP_FAILED:                     error = <span class="stringliteral">&quot;Map failed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_UNMAP_FAILED:                   error = <span class="stringliteral">&quot;Unmap failed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_ARRAY_IS_MAPPED:                error = <span class="stringliteral">&quot;Array is mapped&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_ALREADY_MAPPED:                 error = <span class="stringliteral">&quot;Already mapped&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NO_BINARY_FOR_GPU:              error = <span class="stringliteral">&quot;No binary for GPU&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_ALREADY_ACQUIRED:               error = <span class="stringliteral">&quot;Already acquired&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_MAPPED:                     error = <span class="stringliteral">&quot;Not mapped&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_SOURCE:                 error = <span class="stringliteral">&quot;Invalid source&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_FILE_NOT_FOUND:                 error = <span class="stringliteral">&quot;File not found&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_INVALID_HANDLE:                 error = <span class="stringliteral">&quot;Invalid handle&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_FOUND:                      error = <span class="stringliteral">&quot;Not found&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_READY:                      error = <span class="stringliteral">&quot;Not ready&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_LAUNCH_FAILED:                  error = <span class="stringliteral">&quot;Launch failed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES:        error = <span class="stringliteral">&quot;Launch out of resources&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_LAUNCH_TIMEOUT:                 error = <span class="stringliteral">&quot;Launch timeout&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING:  error = <span class="stringliteral">&quot;Launch incompatible texturing&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_UNKNOWN:                        error = <span class="stringliteral">&quot;Unknown error&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#if (CUDA_VERSION &gt;= 4000) // TODO: Some of these may exist in earlier versions, too.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">case</span> CUDA_ERROR_PROFILER_DISABLED:              error = <span class="stringliteral">&quot;Profiler disabled&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PROFILER_NOT_INITIALIZED:       error = <span class="stringliteral">&quot;Profiler not initialized&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PROFILER_ALREADY_STARTED:       error = <span class="stringliteral">&quot;Profiler already started&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PROFILER_ALREADY_STOPPED:       error = <span class="stringliteral">&quot;Profiler already stopped&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_MAPPED_AS_ARRAY:            error = <span class="stringliteral">&quot;Not mapped as array&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_NOT_MAPPED_AS_POINTER:          error = <span class="stringliteral">&quot;Not mapped as pointer&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_ECC_UNCORRECTABLE:              error = <span class="stringliteral">&quot;ECC uncorrectable&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_UNSUPPORTED_LIMIT:              error = <span class="stringliteral">&quot;Unsupported limit&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_CONTEXT_ALREADY_IN_USE:         error = <span class="stringliteral">&quot;Context already in use&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND: error = <span class="stringliteral">&quot;Shared object symbol not found&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_SHARED_OBJECT_INIT_FAILED:      error = <span class="stringliteral">&quot;Shared object init failed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_OPERATING_SYSTEM:               error = <span class="stringliteral">&quot;Operating system error&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED:    error = <span class="stringliteral">&quot;Peer access already enabled&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PEER_ACCESS_NOT_ENABLED:        error = <span class="stringliteral">&quot;Peer access not enabled&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE:         error = <span class="stringliteral">&quot;Primary context active&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">case</span> CUDA_ERROR_CONTEXT_IS_DESTROYED:           error = <span class="stringliteral">&quot;Context is destroyed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> error;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">  487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">CudaModule::checkError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* funcName, CUresult res)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (res != CUDA_SUCCESS)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;%s() failed: %s!&quot;</span>, funcName, <a class="code" href="class_f_w_1_1_cuda_module.html#a2d6741d109bc975cd1d768ae2001991b">decodeError</a>(res));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#ad37fbaac44625fce26b36135ae192e57">  495</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#ad37fbaac44625fce26b36135ae192e57">CudaModule::getDriverVersion</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordtype">int</span> version = 2010;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor">#if (CUDA_VERSION &gt;= 2020)</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (isAvailable_cuDriverGetVersion())</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        cuDriverGetVersion(&amp;version);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor"></span>    version /= 10;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> version / 10 + version % 10;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a8bae74092d82d33a89508c1c59ef25ef">  508</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a8bae74092d82d33a89508c1c59ef25ef">CudaModule::getComputeCapability</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">staticInit</a>();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (!s_available)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordtype">int</span> major;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">int</span> minor;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceComputeCapability&quot;</span>, cuDeviceComputeCapability(&amp;major, &amp;minor, s_device));</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> major * 10 + minor;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="class_f_w_1_1_cuda_module.html#a57b1627e526cc9a6f8425ffc057a8b57">  522</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_f_w_1_1_cuda_module.html#a57b1627e526cc9a6f8425ffc057a8b57">CudaModule::getDeviceAttribute</a>(CUdevice_attribute attrib)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">staticInit</a>();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (!s_available)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetAttribute&quot;</span>, cuDeviceGetAttribute(&amp;value, attrib, s_device));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;CUdevice CudaModule::selectDevice(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">#if (!FW_USE_CUDA)</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;Image::chooseCudaFormat(): Built without FW_USE_CUDA!&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordtype">int</span> numDevices;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    CUdevice <a class="code" href="_d_l_l_imports_8inl.html#a8102700668d9bd3c1b5458ecb3f7089d">device</a> = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a> bestScore = <a class="code" href="_defs_8hpp.html#a636e07e3f054e60bee96e07bc3c83776">FW_S32_MIN</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetCount&quot;</span>, cuDeviceGetCount(&amp;numDevices));</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numDevices; i++)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        CUdevice <a class="code" href="_d_l_l_imports_8inl.html#a4d305f30a4fe754dbc2733a6cfab14d5">dev</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGet&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a09303fa10f09477149aec476f8621dfe">cuDeviceGet</a>(&amp;dev, i)); <span class="comment">// TODO: Use cuGLGetDevices() on CUDA 4.1+.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">int</span> clockRate;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordtype">int</span> numProcessors;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetAttribute&quot;</span>, cuDeviceGetAttribute(&amp;clockRate, CU_DEVICE_ATTRIBUTE_CLOCK_RATE, dev));</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetAttribute&quot;</span>, cuDeviceGetAttribute(&amp;numProcessors, CU_DEVICE_ATTRIBUTE_MULTIPROCESSOR_COUNT, dev));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">S32</a> score = clockRate * numProcessors;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (score &gt; bestScore)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            device = <a class="code" href="_d_l_l_imports_8inl.html#a4d305f30a4fe754dbc2733a6cfab14d5">dev</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            bestScore = score;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (bestScore == <a class="code" href="_defs_8hpp.html#a636e07e3f054e60bee96e07bc3c83776">FW_S32_MIN</a>)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule: No appropriate CUDA device found!&quot;</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_d_l_l_imports_8inl.html#a8102700668d9bd3c1b5458ecb3f7089d">device</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="keywordtype">void</span> CudaModule::printDeviceInfo(CUdevice device)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">#if (!FW_USE_CUDA)</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a>(device);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">fail</a>(<span class="stringliteral">&quot;CudaModule::printDeviceInfo(): Built without FW_USE_CUDA!&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        CUdevice_attribute  attrib;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>*         <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    } attribs[] =</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="preprocessor">#define A21(ENUM, NAME) { CU_DEVICE_ATTRIBUTE_ ## ENUM, NAME },</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if (CUDA_VERSION &gt;= 4000)</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#   define A40(ENUM, NAME) A21(ENUM, NAME)</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#   define A40(ENUM, NAME) // TODO: Some of these may exist in earlier versions, too.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        A21(CLOCK_RATE,                         <span class="stringliteral">&quot;Clock rate&quot;</span>)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        A40(MEMORY_CLOCK_RATE,                  &quot;Memory clock rate&quot;)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        A21(MULTIPROCESSOR_COUNT,               &quot;Number of SMs&quot;)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">//      A40(GLOBAL_MEMORY_BUS_WIDTH,            &quot;DRAM bus width&quot;)</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">//      A40(L2_CACHE_SIZE,                      &quot;L2 cache size&quot;)</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        A21(MAX_THREADS_PER_BLOCK,              &quot;Max threads per block&quot;)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        A40(MAX_THREADS_PER_MULTIPROCESSOR,     &quot;Max threads per SM&quot;)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        A21(REGISTERS_PER_BLOCK,                &quot;Max registers per block&quot;)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        A21(SHARED_MEMORY_PER_BLOCK,            &quot;Max shared mem per block&quot;)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        A21(TOTAL_CONSTANT_MEMORY,              &quot;Constant memory&quot;)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">//      A21(WARP_SIZE,                          &quot;Warp size&quot;)</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        A21(MAX_BLOCK_DIM_X,                    &quot;Max blockDim.<a class="code" href="_d_l_l_imports_8inl.html#a801542531fe9fad1565d31155ba5517b">x</a>&quot;)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">//      A21(MAX_BLOCK_DIM_Y,                    &quot;Max blockDim.y&quot;)</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">//      A21(MAX_BLOCK_DIM_Z,                    &quot;Max blockDim.z&quot;)</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        A21(MAX_GRID_DIM_X,                     &quot;Max gridDim.<a class="code" href="_d_l_l_imports_8inl.html#a801542531fe9fad1565d31155ba5517b">x</a>&quot;)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">//      A21(MAX_GRID_DIM_Y,                     &quot;Max gridDim.y&quot;)</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">//      A21(MAX_GRID_DIM_Z,                     &quot;Max gridDim.z&quot;)</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE1D_WIDTH,            &quot;Max tex1D.x&quot;)</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_WIDTH,            &quot;Max tex2D.x&quot;)</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_HEIGHT,           &quot;Max tex2D.y&quot;)</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE3D_WIDTH,            &quot;Max tex3D.x&quot;)</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE3D_HEIGHT,           &quot;Max tex3D.y&quot;)</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE3D_DEPTH,            &quot;Max tex3D.z&quot;)</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE1D_LAYERED_WIDTH,    &quot;Max layerTex1D.x&quot;)</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE1D_LAYERED_LAYERS,   &quot;Max layerTex1D.y&quot;)</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_LAYERED_WIDTH,    &quot;Max layerTex2D.x&quot;)</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_LAYERED_HEIGHT,   &quot;Max layerTex2D.y&quot;)</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_LAYERED_LAYERS,   &quot;Max layerTex2D.z&quot;)</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_ARRAY_WIDTH,      &quot;Max array.x&quot;)</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_ARRAY_HEIGHT,     &quot;Max array.y&quot;)</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">//      A40(MAXIMUM_TEXTURE2D_ARRAY_NUMSLICES,  &quot;Max array.z&quot;)</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">//      A21(MAX_PITCH,                          &quot;Max memcopy pitch&quot;)</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">//      A21(TEXTURE_ALIGNMENT,                  &quot;Texture alignment&quot;)</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">//      A40(SURFACE_ALIGNMENT,                  &quot;Surface alignment&quot;)</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        A40(CONCURRENT_KERNELS,                 &quot;Concurrent launches supported&quot;)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        A21(GPU_OVERLAP,                        &quot;Concurrent memcopy supported&quot;)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        A40(ASYNC_ENGINE_COUNT,                 &quot;Max concurrent memcopies&quot;)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">//      A40(KERNEL_EXEC_TIMEOUT,                &quot;Kernel launch time limited&quot;)</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">//      A40(INTEGRATED,                         &quot;Integrated with host memory&quot;)</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        A40(UNIFIED_ADDRESSING,                 &quot;Unified addressing supported&quot;)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        A40(CAN_MAP_HOST_MEMORY,                &quot;Can map host memory&quot;)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        A40(ECC_ENABLED,                        &quot;ECC enabled&quot;)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">//      A40(TCC_DRIVER,                         &quot;Driver is TCC&quot;)</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//      A40(COMPUTE_MODE,                       &quot;Compute exclusivity mode&quot;)</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">//      A40(PCI_BUS_ID,                         &quot;PCI bus ID&quot;)</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">//      A40(PCI_DEVICE_ID,                      &quot;PCI device ID&quot;)</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">//      A40(PCI_DOMAIN_ID,                      &quot;PCI domain ID&quot;)</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="preprocessor">#undef A21</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef A40</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor"></span>    };</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a>[256];</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">int</span> major;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordtype">int</span> minor;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="_d_l_l_imports_8hpp.html#a5072f7e393f40e37175d92de56ed27cd">CUsize_t</a> memory;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetName&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a01538f2185af5414ec68addc8f2dba02">cuDeviceGetName</a>(name, <a class="code" href="_defs_8hpp.html#a4bf17094a150a03d81a59b8c8a5120db">FW_ARRAY_SIZE</a>(name) - 1, device));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceComputeCapability&quot;</span>, cuDeviceComputeCapability(&amp;major, &amp;minor, device));</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceTotalMem&quot;</span>, <a class="code" href="_d_l_l_imports_8inl.html#a7ca162692b74e4524c6ac61ef009e2ea">cuDeviceTotalMem</a>(&amp;memory, device));</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    name[<a class="code" href="_defs_8hpp.html#a4bf17094a150a03d81a59b8c8a5120db">FW_ARRAY_SIZE</a>(name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;%-32s%s\n&quot;</span>, <a class="code" href="namespace_f_w.html#a8ed1653b5f16f8843aae298515943a2b">sprintf</a>(<span class="stringliteral">&quot;CUDA device %d&quot;</span>, (<span class="keywordtype">int</span>)device).getPtr(), name);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;%-32s%s\n&quot;</span>, <span class="stringliteral">&quot;---&quot;</span>, <span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;%-32s%d.%d\n&quot;</span>, <span class="stringliteral">&quot;Compute capability&quot;</span>, major, minor);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;%-32s%.0f megs\n&quot;</span>, <span class="stringliteral">&quot;Total memory&quot;</span>, (<a class="code" href="namespace_f_w.html#a444682d451e41e6a951ce34c6be6aa1b">F32</a>)memory * <a class="code" href="namespace_f_w.html#a73b45318a14068674a6bf6c71c9d7da2">exp2</a>(-20));</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)<a class="code" href="_defs_8hpp.html#a4bf17094a150a03d81a59b8c8a5120db">FW_ARRAY_SIZE</a>(attribs); i++)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span> (cuDeviceGetAttribute(&amp;value, attribs[i].attrib, device) == CUDA_SUCCESS)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;%-32s%d\n&quot;</span>, attribs[i].name, value);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<a class="code" href="class_f_w_1_1_vec2i.html">Vec2i</a> CudaModule::selectGridSize(<span class="keywordtype">int</span> numBlocks)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordtype">int</span> maxWidth = 65536;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#if FW_USE_CUDA</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor"></span>    <a class="code" href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">checkError</a>(<span class="stringliteral">&quot;cuDeviceGetAttribute&quot;</span>, cuDeviceGetAttribute(&amp;maxWidth, CU_DEVICE_ATTRIBUTE_MAX_GRID_DIM_X, s_device));</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="class_f_w_1_1_vec2i.html">Vec2i</a> <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>(numBlocks, 1);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>.x &gt; maxWidth)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>.x = (<a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>.x + 1) &gt;&gt; 1;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>.y &lt;&lt;= 1;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;CUfunction CudaModule::findKernel(<span class="keyword">const</span> <a class="code" href="class_f_w_1_1_string.html">String</a>&amp; name)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// Search from hash.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    CUfunction* found = m_kernels.search(name);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">return</span> *found;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// Search from module.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    CUfunction kernel = <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="_d_l_l_imports_8inl.html#a5bc1cd32fcb6f2de6d14e1ada1cc0641">cuModuleGetFunction</a>(&amp;kernel, m_module, name.<a class="code" href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">getPtr</a>());</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (!kernel)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="_d_l_l_imports_8inl.html#a5bc1cd32fcb6f2de6d14e1ada1cc0641">cuModuleGetFunction</a>(&amp;kernel, m_module, (<a class="code" href="class_f_w_1_1_string.html">String</a>(<span class="stringliteral">&quot;__globfunc_&quot;</span>) + name).getPtr());</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (!kernel)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// Add to hash.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    m_kernels.add(name, kernel);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> kernel;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div>
<div class="ttc" id="_defs_8hpp_html_a8d5a49846c5f3f97e18f1f450b5fc754"><div class="ttname"><a href="_defs_8hpp.html#a8d5a49846c5f3f97e18f1f450b5fc754">FW_UNREF</a></div><div class="ttdeci">#define FW_UNREF(X)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00078">Defs.hpp:78</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a46cab0a1b05a575d8ed660d164336182"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a46cab0a1b05a575d8ed660d164336182">cuModuleLoadData</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx cuModuleLoadData</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00060">DLLImports.inl:60</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a08fccce21fc4e2b456ae007e9b576c41"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a08fccce21fc4e2b456ae007e9b576c41">offset</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int offset</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00084">DLLImports.inl:84</a></div></div>
<div class="ttc" id="_defs_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="_defs_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00039">Defs.hpp:39</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a3690f037c53e931cb02713446bfd22f2"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a3690f037c53e931cb02713446bfd22f2">FW::CudaModule::getMemoryUsed</a></div><div class="ttdeci">static S64 getMemoryUsed(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00384">CudaModule.cpp:384</a></div></div>
<div class="ttc" id="class_f_w_1_1_string_html_a7cb3398012aee8e654fe055bc6ec66c8"><div class="ttname"><a href="class_f_w_1_1_string.html#a7cb3398012aee8e654fe055bc6ec66c8">FW::String::getPtr</a></div><div class="ttdeci">const char * getPtr(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_string_8hpp_source.html#l00051">String.hpp:51</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_ad37fbaac44625fce26b36135ae192e57"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#ad37fbaac44625fce26b36135ae192e57">FW::CudaModule::getDriverVersion</a></div><div class="ttdeci">static int getDriverVersion(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00495">CudaModule.cpp:495</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_ad254d1cf77a10134e4a559f2973d841a"><div class="ttname"><a href="_d_l_l_imports_8inl.html#ad254d1cf77a10134e4a559f2973d841a">cuParamSetf</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes cuParamSetf</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00084">DLLImports.inl:84</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_ae7847889464c984c90247b675c8c95ee"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#ae7847889464c984c90247b675c8c95ee">FW::CudaModule::staticDeinit</a></div><div class="ttdeci">static void staticDeinit(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00361">CudaModule.cpp:361</a></div></div>
<div class="ttc" id="_image_8hpp_html"><div class="ttname"><a href="_image_8hpp.html">Image.hpp</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a1caf85ec285eb703f549ab9020c15cd1"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a1caf85ec285eb703f549ab9020c15cd1">FW::CudaModule::~CudaModule</a></div><div class="ttdeci">~CudaModule(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00063">CudaModule.cpp:63</a></div></div>
<div class="ttc" id="_defs_8hpp_html_a636e07e3f054e60bee96e07bc3c83776"><div class="ttname"><a href="_defs_8hpp.html#a636e07e3f054e60bee96e07bc3c83776">FW_S32_MIN</a></div><div class="ttdeci">#define FW_S32_MIN</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00112">Defs.hpp:112</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a9dbca2ffca3195a70ff9a21d5c97b242"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a9dbca2ffca3195a70ff9a21d5c97b242">buffer</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray unsigned int CUtexref CUdeviceptr unsigned int bytes CUcontext unsigned int CUdevice device GLenum texture GLenum GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00315">DLLImports.inl:315</a></div></div>
<div class="ttc" id="_d_l_l_imports_8cpp_html_a35b91ad463aa27ef76f8e7dc06bc53d9"><div class="ttname"><a href="_d_l_l_imports_8cpp.html#a35b91ad463aa27ef76f8e7dc06bc53d9">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8cpp_source.html#l00042">DLLImports.cpp:42</a></div></div>
<div class="ttc" id="_d_l_l_imports_8cpp_html_a3f9c944700a4d6f4d7c0edb04a2caca8"><div class="ttname"><a href="_d_l_l_imports_8cpp.html#a3f9c944700a4d6f4d7c0edb04a2caca8">ptr</a></div><div class="ttdeci">void ** ptr</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8cpp_source.html#l00074">DLLImports.cpp:74</a></div></div>
<div class="ttc" id="_d_l_l_imports_8hpp_html_aba057da10d5d0eb0a6f837dc75b59482"><div class="ttname"><a href="_d_l_l_imports_8hpp.html#aba057da10d5d0eb0a6f837dc75b59482">CUsurfref</a></div><div class="ttdeci">void * CUsurfref</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8hpp_source.html#l00117">DLLImports.hpp:117</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a4d305f30a4fe754dbc2733a6cfab14d5"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a4d305f30a4fe754dbc2733a6cfab14d5">dev</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00048">DLLImports.inl:48</a></div></div>
<div class="ttc" id="class_f_w_1_1_string_html"><div class="ttname"><a href="class_f_w_1_1_string.html">FW::String</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_8hpp_source.html#l00037">String.hpp:37</a></div></div>
<div class="ttc" id="class_f_w_1_1_buffer_html_a33dd259f52b953403c2d539e4e9a98db"><div class="ttname"><a href="class_f_w_1_1_buffer.html#a33dd259f52b953403c2d539e4e9a98db">FW::Buffer::wrapCuda</a></div><div class="ttdeci">void wrapCuda(CUdeviceptr cudaPtr, S64 size)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_8cpp_source.html#l00070">Buffer.cpp:70</a></div></div>
<div class="ttc" id="class_f_w_1_1_buffer_html_aafa85e31db70b6b4fcefe9f5d82ab3b6"><div class="ttname"><a href="class_f_w_1_1_buffer.html#aafa85e31db70b6b4fcefe9f5d82ab3b6">FW::Buffer::getCudaPtr</a></div><div class="ttdeci">CUdeviceptr getCudaPtr(S64 ofs=0)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_8hpp_source.html#l00108">Buffer.hpp:108</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a4c773078ba7d187c3771f25e672782df"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a4c773078ba7d187c3771f25e672782df">FW::CudaModule::CudaModule</a></div><div class="ttdeci">CudaModule(const void *cubin)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00047">CudaModule.cpp:47</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a2f0d62ac2eff62c5e0a2c93108233d39"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a2f0d62ac2eff62c5e0a2c93108233d39">FW::CudaModule::getKernel</a></div><div class="ttdeci">CudaKernel getKernel(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00080">CudaModule.cpp:80</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a032d7c1394dd3ede34bb4ac63da6bc8d"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a032d7c1394dd3ede34bb4ac63da6bc8d">FW::CudaModule::setParami</a></div><div class="ttdeci">int setParami(CUfunction kernel, int offset, S32 value)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00090">CudaModule.cpp:90</a></div></div>
<div class="ttc" id="class_f_w_1_1_buffer_html_aab73cf5a8f20060158cee1b23991fadb"><div class="ttname"><a href="class_f_w_1_1_buffer.html#aab73cf5a8f20060158cee1b23991fadb">FW::Buffer::getSize</a></div><div class="ttdeci">S64 getSize(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_buffer_8hpp_source.html#l00069">Buffer.hpp:69</a></div></div>
<div class="ttc" id="class_f_w_1_1_buffer_html_a6c1c118fbf58a9120a561b7b523982c9a7ba349a7628a36120e8aa99a7b10061b"><div class="ttname"><a href="class_f_w_1_1_buffer.html#a6c1c118fbf58a9120a561b7b523982c9a7ba349a7628a36120e8aa99a7b10061b">FW::Buffer::Cuda</a></div><div class="ttdef"><b>Definition:</b> <a href="_buffer_8hpp_source.html#l00042">Buffer.hpp:42</a></div></div>
<div class="ttc" id="_d_l_l_imports_8hpp_html_a5072f7e393f40e37175d92de56ed27cd"><div class="ttname"><a href="_d_l_l_imports_8hpp.html#a5072f7e393f40e37175d92de56ed27cd">CUsize_t</a></div><div class="ttdeci">unsigned int CUsize_t</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8hpp_source.html#l00121">DLLImports.hpp:121</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a4675355a85090f5f50476e342785bc14"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a4675355a85090f5f50476e342785bc14">cuCtxSynchronize</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx cuCtxSynchronize</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00058">DLLImports.inl:58</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a801542531fe9fad1565d31155ba5517b"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a801542531fe9fad1565d31155ba5517b">x</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray unsigned int CUtexref CUdeviceptr unsigned int bytes CUcontext unsigned int CUdevice device GLenum texture GLenum GLuint buffer GLenum GLuint renderbuffer GLenum GLsizeiptr const GLvoid GLenum usage GLuint shader GLenum type GLsizei const GLuint framebuffers GLsizei const GLuint renderbuffers GLuint v GLuint v GLenum GLenum GLenum GLuint GLint level GLsizei GLuint framebuffers GLuint const GLchar name GLenum GLintptr GLsizeiptr GLvoid data GLuint GLenum GLint param GLuint GLenum GLint param GLhandleARB programObj GLenum GLenum GLsizei GLsizei height GLenum GLint GLint GLsizei GLsizei GLsizei GLint GLenum GLenum const GLvoid pixels GLint GLsizei const GLfloat value GLint GLfloat GLfloat v1 GLint GLfloat GLfloat GLfloat v2 GLint GLsizei const GLfloat value GLint GLsizei GLboolean const GLfloat value GLuint program GLuint GLfloat x</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00363">DLLImports.inl:363</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a244614736646bf692feb53df6df52c39"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a244614736646bf692feb53df6df52c39">cuCtxDestroy</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev cuCtxDestroy</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00052">DLLImports.inl:52</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a339f2b7cf6f3ef3a78355465c4b4836b"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a339f2b7cf6f3ef3a78355465c4b4836b">FW::CudaModule::getTexRef</a></div><div class="ttdeci">CUtexref getTexRef(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00145">CudaModule.cpp:145</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a7ca162692b74e4524c6ac61ef009e2ea"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a7ca162692b74e4524c6ac61ef009e2ea">cuDeviceTotalMem</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj cuDeviceTotalMem</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00106">DLLImports.inl:106</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_af562c42a60854fdef7c2897544da1e94"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#af562c42a60854fdef7c2897544da1e94">FW::CudaModule::setTexRef</a></div><div class="ttdeci">void setTexRef(const String &amp;name, Buffer &amp;buf, CUarray_format format, int numComponents)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00193">CudaModule.cpp:193</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a9395967cb4000b5a19ca4419da40c48e"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a9395967cb4000b5a19ca4419da40c48e">FW::CudaModule::setSurfRef</a></div><div class="ttdeci">void setSurfRef(const String &amp;name, CUarray cudaArray)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00298">CudaModule.cpp:298</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a8b12014b815644e2794fcdc60b9a6851"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a8b12014b815644e2794fcdc60b9a6851">FW::CudaModule::checkError</a></div><div class="ttdeci">static void checkError(const char *funcName, CUresult res)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00487">CudaModule.cpp:487</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a8bae74092d82d33a89508c1c59ef25ef"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a8bae74092d82d33a89508c1c59ef25ef">FW::CudaModule::getComputeCapability</a></div><div class="ttdeci">static int getComputeCapability(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00508">CudaModule.cpp:508</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a5bc1cd32fcb6f2de6d14e1ada1cc0641"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a5bc1cd32fcb6f2de6d14e1ada1cc0641">cuModuleGetFunction</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin cuModuleGetFunction</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00064">DLLImports.inl:64</a></div></div>
<div class="ttc" id="namespace_f_w_html_a444682d451e41e6a951ce34c6be6aa1b"><div class="ttname"><a href="namespace_f_w.html#a444682d451e41e6a951ce34c6be6aa1b">FW::F32</a></div><div class="ttdeci">float F32</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00089">Defs.hpp:89</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a514b7a61c66cec0186a3b6bcaa5de966"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a514b7a61c66cec0186a3b6bcaa5de966">FW::CudaModule::setParamf</a></div><div class="ttdeci">int setParamf(CUfunction kernel, int offset, F32 value)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00099">CudaModule.cpp:99</a></div></div>
<div class="ttc" id="_cuda_module_8hpp_html"><div class="ttname"><a href="_cuda_module_8hpp.html">CudaModule.hpp</a></div></div>
<div class="ttc" id="namespace_f_w_html_a93be8f55938d6ffb5ca0af1f95f81589"><div class="ttname"><a href="namespace_f_w.html#a93be8f55938d6ffb5ca0af1f95f81589">FW::free</a></div><div class="ttdeci">void free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8cpp_source.html#l00164">Defs.cpp:164</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a01538f2185af5414ec68addc8f2dba02"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a01538f2185af5414ec68addc8f2dba02">cuDeviceGetName</a></div><div class="ttdeci">CUdevice int ordinal cuDeviceGetName</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00048">DLLImports.inl:48</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a45a58542c9a45094a27d0e532ad77b25"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a45a58542c9a45094a27d0e532ad77b25">cuGLCtxCreate</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray unsigned int CUtexref CUdeviceptr unsigned int bytes cuGLCtxCreate</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00144">DLLImports.inl:144</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a0708c2af391e85a03b846d43c7b3338b"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a0708c2af391e85a03b846d43c7b3338b">cuTexRefSetFlags</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am cuTexRefSetFlags</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00076">DLLImports.inl:76</a></div></div>
<div class="ttc" id="namespace_f_w_html_aca8b0db4cb8058fa177cbec0280443d9"><div class="ttname"><a href="namespace_f_w.html#aca8b0db4cb8058fa177cbec0280443d9">FW::S32</a></div><div class="ttdeci">signed int S32</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00088">Defs.hpp:88</a></div></div>
<div class="ttc" id="class_f_w_1_1_array_base_html_af5a81b8139e1b73f9f0288b4f7c2a770"><div class="ttname"><a href="class_f_w_1_1_array_base.html#af5a81b8139e1b73f9f0288b4f7c2a770">FW::ArrayBase::add</a></div><div class="ttdeci">T &amp; add(void)</div><div class="ttdef"><b>Definition:</b> <a href="_array_8hpp_source.html#l00384">Array.hpp:384</a></div></div>
<div class="ttc" id="namespace_f_w_html_a8ed1653b5f16f8843aae298515943a2b"><div class="ttname"><a href="namespace_f_w.html#a8ed1653b5f16f8843aae298515943a2b">FW::sprintf</a></div><div class="ttdeci">String sprintf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8cpp_source.html#l00241">Defs.cpp:241</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_afa19deda7e4b44859d7d11b6fada0a24"><div class="ttname"><a href="_d_l_l_imports_8inl.html#afa19deda7e4b44859d7d11b6fada0a24">dim</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int dim</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00074">DLLImports.inl:74</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_format_html"><div class="ttname"><a href="class_f_w_1_1_image_format.html">FW::ImageFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="_image_8hpp_source.html#l00035">Image.hpp:35</a></div></div>
<div class="ttc" id="namespace_f_w_html_a79e68c842b255fc3ffc278fa7c0ddd9a"><div class="ttname"><a href="namespace_f_w.html#a79e68c842b255fc3ffc278fa7c0ddd9a">FW::S64</a></div><div class="ttdeci">signed __int64 S64</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00098">Defs.hpp:98</a></div></div>
<div class="ttc" id="namespace_f_w_html_a73b45318a14068674a6bf6c71c9d7da2"><div class="ttname"><a href="namespace_f_w.html#a73b45318a14068674a6bf6c71c9d7da2">FW::exp2</a></div><div class="ttdeci">F32 exp2(F32 a)</div><div class="ttdef"><b>Definition:</b> <a href="_math_8hpp_source.html#l00087">Math.hpp:87</a></div></div>
<div class="ttc" id="namespace_f_w_html_aa9e6318d2f21fa8ff6c253178f2eb949"><div class="ttname"><a href="namespace_f_w.html#aa9e6318d2f21fa8ff6c253178f2eb949">FW::U32</a></div><div class="ttdeci">unsigned int U32</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00085">Defs.hpp:85</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_html_a0ce75aa6221b88eb82a1db63772c7710"><div class="ttname"><a href="class_f_w_1_1_image.html#a0ce75aa6221b88eb82a1db63772c7710">FW::Image::chooseCudaFormat</a></div><div class="ttdeci">ImageFormat chooseCudaFormat(CUDA_ARRAY_DESCRIPTOR *desc=NULL, ImageFormat::ID desiredFormat=ImageFormat::ID_Max) const </div><div class="ttdef"><b>Definition:</b> <a href="_image_8cpp_source.html#l00531">Image.cpp:531</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a09303fa10f09477149aec476f8621dfe"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a09303fa10f09477149aec476f8621dfe">cuDeviceGet</a></div><div class="ttdeci">cuDeviceGet</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00046">DLLImports.inl:46</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_html_a035d03d80592c7dcba003b70e3491978"><div class="ttname"><a href="class_f_w_1_1_image.html#a035d03d80592c7dcba003b70e3491978">FW::Image::getBuffer</a></div><div class="ttdeci">Buffer &amp; getBuffer(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_image_8hpp_source.html#l00148">Image.hpp:148</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a7f58dcb04ca39b1792dc0ecb065ae41c"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a7f58dcb04ca39b1792dc0ecb065ae41c">FW::CudaModule::getGlobal</a></div><div class="ttdeci">Buffer &amp; getGlobal(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00117">CudaModule.cpp:117</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_abfe1a5bd06d1d3ea0c49086de58340b8"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#abfe1a5bd06d1d3ea0c49086de58340b8">FW::CudaModule::setTexRefMode</a></div><div class="ttdeci">void setTexRefMode(CUtexref texRef, bool wrap=true, bool bilinear=true, bool normalizedCoords=true, bool readAsInt=false)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00161">CudaModule.cpp:161</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a3f2d6cd655118d09cc005e6760706570"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a3f2d6cd655118d09cc005e6760706570">value</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00084">DLLImports.inl:84</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a5356c37febffe67548611bb7173cf527"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a5356c37febffe67548611bb7173cf527">FW::CudaModule::unsetTexRef</a></div><div class="ttdeci">void unsetTexRef(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00256">CudaModule.cpp:256</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_html_ac8fd3697b306c9875649677f24f5efea"><div class="ttname"><a href="class_f_w_1_1_image.html#ac8fd3697b306c9875649677f24f5efea">FW::Image::getFormat</a></div><div class="ttdeci">const ImageFormat &amp; getFormat(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_image_8hpp_source.html#l00144">Image.hpp:144</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_kernel_html"><div class="ttname"><a href="class_f_w_1_1_cuda_kernel.html">FW::CudaKernel</a></div><div class="ttdef"><b>Definition:</b> <a href="_cuda_kernel_8hpp_source.html#l00048">CudaKernel.hpp:48</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_html_a43a8e0f217c43bcebb636ba6226efb89"><div class="ttname"><a href="class_f_w_1_1_image.html#a43a8e0f217c43bcebb636ba6226efb89">FW::Image::getStride</a></div><div class="ttdeci">S64 getStride(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_image_8hpp_source.html#l00146">Image.hpp:146</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_acfdc74cbe3820c424ed02602f6d561ac"><div class="ttname"><a href="_d_l_l_imports_8inl.html#acfdc74cbe3820c424ed02602f6d561ac">cuEventDestroy</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent cuEventDestroy</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00094">DLLImports.inl:94</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a4fe15fb15b24ec329e6e4c94825ed4de"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a4fe15fb15b24ec329e6e4c94825ed4de">cuEventCreate</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height cuEventCreate</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00090">DLLImports.inl:90</a></div></div>
<div class="ttc" id="namespace_f_w_html_a88798b95cffd12af3630955dd30a3526"><div class="ttname"><a href="namespace_f_w.html#a88798b95cffd12af3630955dd30a3526">FW::printf</a></div><div class="ttdeci">void printf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8cpp_source.html#l00225">Defs.cpp:225</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a93fba26cd55b4e62b4760ea9cef6f39d"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a93fba26cd55b4e62b4760ea9cef6f39d">cuEventQuery</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags cuEventQuery</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00092">DLLImports.inl:92</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_ad4c33e9edd8edca569c34a03f3c9795e"><div class="ttname"><a href="_d_l_l_imports_8inl.html#ad4c33e9edd8edca569c34a03f3c9795e">format</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray unsigned int CUtexref CUdeviceptr unsigned int bytes CUcontext unsigned int CUdevice device GLenum texture GLenum GLuint buffer GLenum GLuint renderbuffer GLenum GLsizeiptr const GLvoid GLenum usage GLuint shader GLenum type GLsizei const GLuint framebuffers GLsizei const GLuint renderbuffers GLuint v GLuint v GLenum GLenum GLenum GLuint GLint level GLsizei GLuint framebuffers GLuint const GLchar name GLenum GLintptr GLsizeiptr GLvoid data GLuint GLenum GLint param GLuint GLenum GLint param GLhandleARB programObj GLenum GLenum GLsizei GLsizei height GLenum GLint GLint GLsizei GLsizei GLsizei GLint GLenum format</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00349">DLLImports.inl:349</a></div></div>
<div class="ttc" id="_defs_8hpp_html_a4bf17094a150a03d81a59b8c8a5120db"><div class="ttname"><a href="_defs_8hpp.html#a4bf17094a150a03d81a59b8c8a5120db">FW_ARRAY_SIZE</a></div><div class="ttdeci">#define FW_ARRAY_SIZE(X)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8hpp_source.html#l00079">Defs.hpp:79</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a5942875425f3c3f5584765df670a5a49"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a5942875425f3c3f5584765df670a5a49">FW::CudaModule::updateGlobals</a></div><div class="ttdeci">void updateGlobals(bool async=false, CUstream stream=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00137">CudaModule.cpp:137</a></div></div>
<div class="ttc" id="_cuda_compiler_8hpp_html"><div class="ttname"><a href="_cuda_compiler_8hpp.html">CudaCompiler.hpp</a></div></div>
<div class="ttc" id="_thread_8hpp_html"><div class="ttname"><a href="_thread_8hpp.html">Thread.hpp</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a8fd15a1b9b23a8eba162097d4c06a4f3"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a8fd15a1b9b23a8eba162097d4c06a4f3">FW::CudaModule::sync</a></div><div class="ttdeci">static void sync(bool yield=true)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00398">CudaModule.cpp:398</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_afb966fd15e62cd2627f838db2170e836"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#afb966fd15e62cd2627f838db2170e836">FW::CudaModule::hasKernel</a></div><div class="ttdeci">bool hasKernel(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00073">CudaModule.cpp:73</a></div></div>
<div class="ttc" id="_timer_8hpp_html"><div class="ttname"><a href="_timer_8hpp.html">Timer.hpp</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a57b1627e526cc9a6f8425ffc057a8b57"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a57b1627e526cc9a6f8425ffc057a8b57">FW::CudaModule::getDeviceAttribute</a></div><div class="ttdeci">static int getDeviceAttribute(CUdevice_attribute attrib)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00522">CudaModule.cpp:522</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_aacfba0f8beebafbe3d3a3a5c228e3442"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#aacfba0f8beebafbe3d3a3a5c228e3442">FW::CudaModule::getSurfRef</a></div><div class="ttdeci">CUsurfref getSurfRef(const String &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00283">CudaModule.cpp:283</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_ac6584601202a9942212eada4d087e1c9"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#ac6584601202a9942212eada4d087e1c9">FW::CudaModule::setParamPtr</a></div><div class="ttdeci">int setParamPtr(CUfunction kernel, int offset, CUdeviceptr value)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00108">CudaModule.cpp:108</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a2d6741d109bc975cd1d768ae2001991b"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a2d6741d109bc975cd1d768ae2001991b">FW::CudaModule::decodeError</a></div><div class="ttdeci">static const char * decodeError(CUresult res)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00426">CudaModule.cpp:426</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a9d1d2ca295ac55abfbfbb567b2d35d53"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a9d1d2ca295ac55abfbfbb567b2d35d53">cuTexRefSetArray</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef cuTexRefSetArray</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00072">DLLImports.inl:72</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a8506e7146413ddccf15b86bdb9b74104"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a8506e7146413ddccf15b86bdb9b74104">cuTexRefSetAddress</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray cuTexRefSetAddress</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00142">DLLImports.inl:142</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a3ecdb3265082b69e183f81f7d780b03f"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a3ecdb3265082b69e183f81f7d780b03f">cuTexRefSetAddressMode</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags cuTexRefSetAddressMode</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00074">DLLImports.inl:74</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_a13e904e8f50e820268da8bce901ce41d"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#a13e904e8f50e820268da8bce901ce41d">FW::CudaModule::staticInit</a></div><div class="ttdeci">static void staticInit(void)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00311">CudaModule.cpp:311</a></div></div>
<div class="ttc" id="namespace_f_w_html_ac2fc51abecb546b495fd194f4d3b80d7"><div class="ttname"><a href="namespace_f_w.html#ac2fc51abecb546b495fd194f4d3b80d7">FW::fail</a></div><div class="ttdeci">void fail(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_defs_8cpp_source.html#l00304">Defs.cpp:304</a></div></div>
<div class="ttc" id="class_f_w_1_1_vec2i_html"><div class="ttname"><a href="class_f_w_1_1_vec2i.html">FW::Vec2i</a></div><div class="ttdef"><b>Definition:</b> <a href="_math_8hpp_source.html#l00238">Math.hpp:238</a></div></div>
<div class="ttc" id="class_f_w_1_1_buffer_html"><div class="ttname"><a href="class_f_w_1_1_buffer.html">FW::Buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_buffer_8hpp_source.html#l00035">Buffer.hpp:35</a></div></div>
<div class="ttc" id="class_f_w_1_1_thread_html_a40ddc126a00416db57b7229e2517e700"><div class="ttname"><a href="class_f_w_1_1_thread.html#a40ddc126a00416db57b7229e2517e700">FW::Thread::yield</a></div><div class="ttdeci">static void yield(void)</div><div class="ttdef"><b>Definition:</b> <a href="_thread_8cpp_source.html#l00338">Thread.cpp:338</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_af213c44c249febd5dd9ecd01be302487"><div class="ttname"><a href="_d_l_l_imports_8inl.html#af213c44c249febd5dd9ecd01be302487">image</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void * image</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00060">DLLImports.inl:60</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_abcaf2e752dfff61ecb0b2d0a593966ee"><div class="ttname"><a href="_d_l_l_imports_8inl.html#abcaf2e752dfff61ecb0b2d0a593966ee">size</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev CUdeviceptr unsigned int CUmodule const char name CUdeviceptr unsigned int bytesize CUdeviceptr dptr void unsigned int bytesize void CUdeviceptr unsigned int ByteCount CUarray unsigned int CUdeviceptr unsigned int ByteCount CUarray unsigned int const void unsigned int ByteCount CUarray unsigned int CUarray unsigned int unsigned int ByteCount void CUarray unsigned int unsigned int CUstream hStream const CUDA_MEMCPY2D pCopy CUdeviceptr const void unsigned int CUstream hStream const CUDA_MEMCPY2D CUstream hStream CUdeviceptr unsigned char unsigned int N CUdeviceptr unsigned int unsigned int N CUdeviceptr unsigned int unsigned short unsigned int unsigned int Height CUarray const CUDA_ARRAY_DESCRIPTOR pAllocateArray CUarray const CUDA_ARRAY3D_DESCRIPTOR pAllocateArray unsigned int CUtexref CUdeviceptr unsigned int bytes CUcontext unsigned int CUdevice device GLenum texture GLenum GLuint buffer GLenum GLuint renderbuffer GLenum GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00319">DLLImports.inl:319</a></div></div>
<div class="ttc" id="class_f_w_1_1_g_l_context_html_ab1f0a50167f29b9f9348fe0b72ccc294"><div class="ttname"><a href="class_f_w_1_1_g_l_context.html#ab1f0a50167f29b9f9348fe0b72ccc294">FW::GLContext::staticInit</a></div><div class="ttdeci">static void staticInit(void)</div><div class="ttdef"><b>Definition:</b> <a href="_g_l_context_8cpp_source.html#l00894">GLContext.cpp:894</a></div></div>
<div class="ttc" id="class_f_w_1_1_array_base_html_a787c519021c55c4ba34729050b972d47"><div class="ttname"><a href="class_f_w_1_1_array_base.html#a787c519021c55c4ba34729050b972d47">FW::ArrayBase::getSize</a></div><div class="ttdeci">S getSize(void) const </div><div class="ttdef"><b>Definition:</b> <a href="_array_8hpp_source.html#l00188">Array.hpp:188</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a8102700668d9bd3c1b5458ecb3f7089d"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a8102700668d9bd3c1b5458ecb3f7089d">device</a></div><div class="ttdeci">CUdevice * device</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00046">DLLImports.inl:46</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_ae7315cdde706861c3befc3d18be0c425"><div class="ttname"><a href="_d_l_l_imports_8inl.html#ae7315cdde706861c3befc3d18be0c425">cuParamSetTexRef</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value cuParamSetTexRef</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00086">DLLImports.inl:86</a></div></div>
<div class="ttc" id="_d_l_l_imports_8inl_html_a7db75eb2537592ecbcdb45300fc5b617"><div class="ttname"><a href="_d_l_l_imports_8inl.html#a7db75eb2537592ecbcdb45300fc5b617">cuModuleGetGlobal</a></div><div class="ttdeci">CUdevice int ordinal char int CUdevice dev CUdevprop CUdevice dev CUcontext ctx CUcontext ctx CUcontext pctx CUmodule const void image CUmodule const void fatCubin CUfunction CUmodule const char name void p CUfunction unsigned int bytes CUtexref pTexRef CUtexref CUarray unsigned int Flags CUtexref int CUaddress_mode am CUtexref unsigned int Flags CUaddress_mode CUtexref int dim CUarray_format int CUtexref hTexRef CUfunction unsigned int numbytes CUfunction int float value CUfunction int CUtexref hTexRef CUfunction int int grid_height CUevent unsigned int Flags CUevent hEvent CUevent hEvent CUstream unsigned int Flags CUstream hStream GLuint bufferobj unsigned int CUdevice dev cuModuleGetGlobal</div><div class="ttdef"><b>Definition:</b> <a href="_d_l_l_imports_8inl_source.html#l00108">DLLImports.inl:108</a></div></div>
<div class="ttc" id="class_f_w_1_1_cuda_module_html_ae0dede205dfc836ef3afc9351ac39855"><div class="ttname"><a href="class_f_w_1_1_cuda_module.html#ae0dede205dfc836ef3afc9351ac39855">FW::CudaModule::updateTexRefs</a></div><div class="ttdeci">void updateTexRefs(CUfunction kernel)</div><div class="ttdef"><b>Definition:</b> <a href="_cuda_module_8cpp_source.html#l00264">CudaModule.cpp:264</a></div></div>
<div class="ttc" id="class_f_w_1_1_image_html"><div class="ttname"><a href="class_f_w_1_1_image.html">FW::Image</a></div><div class="ttdef"><b>Definition:</b> <a href="_image_8hpp_source.html#l00132">Image.hpp:132</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5752cadd8276ecfd63d9b924f2a4d4b5.html">framework</a></li><li class="navelem"><a class="el" href="dir_f39cab2236b8ea518ed2b783190510af.html">gpu</a></li><li class="navelem"><a class="el" href="_cuda_module_8cpp.html">CudaModule.cpp</a></li>
    <li class="footer">Generated on Wed Dec 10 2014 14:36:47 for NTrace by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
